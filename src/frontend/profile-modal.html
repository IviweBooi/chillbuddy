<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile Modal</title>
    <link rel="stylesheet" href="css/profile-modal.css?v=2">
</head>
<body>
    <!-- Profile Modal Overlay -->
    <div id="profileModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <!-- Modal Header -->
            <div class="modal-header">
                <h2 class="modal-title">User Profile</h2>
                <button class="close-btn" onclick="closeProfileModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>

            <!-- Modal Content -->
            <div class="modal-content">
                <!-- User Info Section -->
                <div class="user-info-section">
                    <div class="user-avatar">
                        <div class="avatar-circle">
                            <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                                <circle cx="30" cy="30" r="30" fill="#E5E7EB"/>
                                <path d="M30 32C35.5228 32 40 27.5228 40 22C40 16.4772 35.5228 12 30 12C24.4772 12 20 16.4772 20 22C20 27.5228 24.4772 32 30 32Z" fill="#9CA3AF"/>
                                <path d="M48 48C48 40.268 39.732 34 30 34C20.268 34 12 40.268 12 48" fill="#9CA3AF"/>
                            </svg>
                        </div>
                        <!-- Achievement Badge Overlay -->
                        <div class="profile-badge-overlay">
                            <div class="achievement-badge" id="profileAchievementBadge">
                                <!-- Current highest badge will be displayed here -->
                            </div>
                        </div>
                    </div>
                    <div class="user-details">
                        <h3 class="username" id="profileUsername">ChillBuddy User</h3>
                        <p class="user-status" id="profileStatus">Mental Health Champion</p>
                        <p class="join-date" id="profileJoinDate">Member since January 2025</p>
                        
                        <!-- Account Actions -->
                        <div class="account-actions">
                            <button class="action-btn sign-out-btn" onclick="signOut()" data-tooltip="Sign Out">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <polyline points="16,17 21,12 16,7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="21" y1="12" x2="9" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                            <button class="action-btn delete-account-btn" onclick="deleteAccount()" data-tooltip="Delete Account">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <line x1="10" y1="11" x2="10" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <line x1="14" y1="11" x2="14" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Journey Section -->
                <div class="journey-section">
                    <div class="journey-header">
                        <h4 class="section-title">Your Wellness Journey</h4>
                        <div class="journey-subtitle">Track your progress and celebrate milestones</div>
                    </div>
                    
                    <!-- Progress Overview -->
                    <div class="progress-overview">
                        <div class="progress-card primary">
                            <div class="progress-icon">üî•</div>
                            <div class="progress-content">
                                <div class="progress-value" id="streakCount">7</div>
                                <div class="progress-label">Day Streak</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 70%"></div>
                                </div>
                                <div class="progress-target">Goal: 10 days</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Journey Stats Grid -->
                    <div class="journey-stats">
                        <div class="journey-stat-card mood">
                            <div class="stat-header">
                                <div class="stat-icon">üìä</div>
                                <div class="stat-trend">+5 this week</div>
                            </div>
                            <div class="stat-value" id="moodEntries">42</div>
                            <div class="stat-label">Mood Entries</div>
                        </div>
                        
                        <div class="journey-stat-card coping">
                            <div class="stat-header">
                                <div class="stat-icon">üõ°Ô∏è</div>
                                <div class="stat-trend">+3 new</div>
                            </div>
                            <div class="stat-value" id="copingStrategies">15</div>
                            <div class="stat-label">Coping Strategies</div>
                        </div>
                        
                        <div class="journey-stat-card resources">
                            <div class="stat-header">
                                <div class="stat-icon">üîç</div>
                                <div class="stat-trend">+7 recent</div>
                            </div>
                            <div class="stat-value" id="resourcesExplored">28</div>
                            <div class="stat-label">Resources Explored</div>
                        </div>
                    </div>
                    
                    <!-- Journey Milestones -->
                    <div class="journey-milestones">
                        <div class="milestone-header">
                            <h5>Recent Achievements</h5>
                        </div>
                        <div class="milestone-list">
                            <div class="milestone-item completed">
                                <div class="milestone-icon">‚ú®</div>
                                <div class="milestone-text">First week completed!</div>
                            </div>
                            <div class="milestone-item next">
                                <div class="milestone-icon">üéØ</div>
                                <div class="milestone-text">Reach 10-day streak</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Badge Collection Section -->
                <div class="badges-section">
                    <div class="section-header">
                        <h4 class="section-title">Achievement Badges</h4>
                        <div class="badge-progress">
                            <span class="earned-count" id="earnedBadgeCount">4</span>
                            <span class="total-count">/ 8 earned</span>
                        </div>
                    </div>
                    
                    <div class="badge-grid" id="badgeGrid">
                        <!-- First Steps Badge -->
                        <div class="badge-item earned" data-badge="first-steps">
                            <div class="badge-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#3B82F6" filter="url(#glow)"/>
                                    <path d="M24 8L26.472 18.944L37.416 16.472L29.888 24L37.416 31.528L26.472 29.056L24 40L21.528 29.056L10.584 31.528L18.112 24L10.584 16.472L21.528 18.944Z" fill="white"/>
                                    <defs>
                                        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">First Steps</h5>
                                <p class="badge-description">Started your mental health journey</p>
                                <span class="earned-date">Earned Jan 15, 2024</span>
                            </div>
                        </div>

                        <!-- Streak Master Badge -->
                        <div class="badge-item earned" data-badge="streak-master">
                            <div class="badge-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#EF4444" filter="url(#glow2)"/>
                                    <path d="M24 8C24 8 16 14 16 22C16 26.4183 19.5817 30 24 30C28.4183 30 32 26.4183 32 22C32 14 24 8 24 8Z" fill="white"/>
                                    <ellipse cx="24" cy="22" rx="4" ry="6" fill="#EF4444"/>
                                    <circle cx="24" cy="35" r="3" fill="white"/>
                                    <defs>
                                        <filter id="glow2" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Streak Master</h5>
                                <p class="badge-description">Maintained a 7-day check-in streak</p>
                                <span class="earned-date">Earned Jan 22, 2024</span>
                            </div>
                        </div>

                        <!-- Mood Tracker Badge -->
                        <div class="badge-item earned" data-badge="mood-tracker">
                            <div class="badge-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#3B82F6" filter="url(#glow3)"/>
                                    <rect x="12" y="28" width="4" height="8" fill="white" rx="1"/>
                                    <rect x="18" y="24" width="4" height="12" fill="white" rx="1"/>
                                    <rect x="24" y="20" width="4" height="16" fill="white" rx="1"/>
                                    <rect x="30" y="16" width="4" height="20" fill="white" rx="1"/>
                                    <path d="M12 16L18 20L24 14L30 18L36 12" stroke="#3B82F6" stroke-width="2" fill="none"/>
                                    <circle cx="12" cy="16" r="2" fill="white"/>
                                    <circle cx="18" cy="20" r="2" fill="white"/>
                                    <circle cx="24" cy="14" r="2" fill="white"/>
                                    <circle cx="30" cy="18" r="2" fill="white"/>
                                    <circle cx="36" cy="12" r="2" fill="white"/>
                                    <defs>
                                        <filter id="glow3" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Mood Tracker</h5>
                                <p class="badge-description">Logged 30 mood entries</p>
                                <span class="earned-date">Earned Feb 1, 2024</span>
                            </div>
                        </div>

                        <!-- Coping Champion Badge -->
                        <div class="badge-item earned" data-badge="coping-champion">
                            <div class="badge-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#10B981" filter="url(#glow4)"/>
                                    <path d="M24 8L28 16L36 16L30 22L32 30L24 26L16 30L18 22L12 16L20 16Z" fill="white"/>
                                    <circle cx="24" cy="20" r="6" fill="#10B981"/>
                                    <path d="M21 20L23 22L27 18" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                    <defs>
                                        <filter id="glow4" x="-50%" y="-50%" width="200%" height="200%">
                                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Coping Champion</h5>
                                <p class="badge-description">Mastered 10 coping strategies</p>
                                <span class="earned-date">Earned Feb 8, 2024</span>
                            </div>
                        </div>

                        <!-- Locked Badges -->
                        <div class="badge-item locked" data-badge="resource-explorer">
                            <div class="badge-icon locked-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#6B7280"/>
                                    <path d="M24 16C20.6863 16 18 18.6863 18 22V24H16C14.8954 24 14 24.8954 14 26V34C14 35.1046 14.8954 36 16 36H32C33.1046 36 34 35.1046 34 34V26C34 24.8954 33.1046 24 32 24H30V22C30 18.6863 27.3137 16 24 16ZM24 18C26.2091 18 28 19.7909 28 22V24H20V22C20 19.7909 21.7909 18 24 18Z" fill="white"/>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Resource Explorer</h5>
                                <p class="badge-description">Explore 25 mental health resources</p>
                                <span class="progress-text">Progress: 18/25</span>
                            </div>
                        </div>

                        <div class="badge-item locked" data-badge="challenge-crusher">
                            <div class="badge-icon locked-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#6B7280"/>
                                    <path d="M24 16C20.6863 16 18 18.6863 18 22V24H16C14.8954 24 14 24.8954 14 26V34C14 35.1046 14.8954 36 16 36H32C33.1046 36 34 35.1046 34 34V26C34 24.8954 33.1046 24 32 24H30V22C30 18.6863 27.3137 16 24 16ZM24 18C26.2091 18 28 19.7909 28 22V24H20V22C20 19.7909 21.7909 18 24 18Z" fill="white"/>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Challenge Crusher</h5>
                                <p class="badge-description">Complete 5 mental health challenges</p>
                                <span class="progress-text">Progress: 2/5</span>
                            </div>
                        </div>

                        <div class="badge-item locked" data-badge="monthly-milestone">
                            <div class="badge-icon locked-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#6B7280"/>
                                    <path d="M24 16C20.6863 16 18 18.6863 18 22V24H16C14.8954 24 14 24.8954 14 26V34C14 35.1046 14.8954 36 16 36H32C33.1046 36 34 35.1046 34 34V26C34 24.8954 33.1046 24 32 24H30V22C30 18.6863 27.3137 16 24 16ZM24 18C26.2091 18 28 19.7909 28 22V24H20V22C20 19.7909 21.7909 18 24 18Z" fill="white"/>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Monthly Milestone</h5>
                                <p class="badge-description">Maintain consistent activity for 30 days</p>
                                <span class="progress-text">Progress: 22/30 days</span>
                            </div>
                        </div>

                        <div class="badge-item locked" data-badge="crisis-survivor">
                            <div class="badge-icon locked-icon">
                                <svg width="48" height="48" viewBox="0 0 48 48">
                                    <circle cx="24" cy="24" r="24" fill="#6B7280"/>
                                    <path d="M24 16C20.6863 16 18 18.6863 18 22V24H16C14.8954 24 14 24.8954 14 26V34C14 35.1046 14.8954 36 16 36H32C33.1046 36 34 35.1046 34 34V26C34 24.8954 33.1046 24 32 24H30V22C30 18.6863 27.3137 16 24 16ZM24 18C26.2091 18 28 19.7909 28 22V24H20V22C20 19.7909 21.7909 18 24 18Z" fill="white"/>
                                </svg>
                            </div>
                            <div class="badge-info">
                                <h5 class="badge-name">Crisis Survivor</h5>
                                <p class="badge-description">Successfully navigate a mental health crisis</p>
                                <span class="progress-text">Locked</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="viewAchievementHistory()">View History</button>
                    <button class="btn-primary" onclick="shareBadges()">Share Achievements</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/profile-modal.js?v=1"></script>
</body>
</html>